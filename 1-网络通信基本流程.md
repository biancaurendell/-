拓扑图如下：

![image-20231002094817132](E:\610 - 编程开发\622-课程笔记\A01-计算机网络\自建节点\1-网络通信基本流程.assets\image-20231002094817132.png)

当我们输入一个域名地址时，首先会在本地浏览器的缓存中找之前有没有访问过，再访问host文件看有没有相关映射，如果还没有的话就只能发送给百度的服务器中（应用层）

![image-20231002095014183](E:\610 - 编程开发\622-课程笔记\A01-计算机网络\自建节点\1-网络通信基本流程.assets\image-20231002095014183.png)

请求发送到DNS服务器，找ip地址，请告诉我baidu.com的IP地址，传输层端口，封装

网络层源ip和目标ip封装，这是网络层干的事情

网关找不到ip地址后电脑会去找网关

数据链路层会再 数据包上加入源MAC地址和目的MAC地址

通过物理层找到网卡并发送数据



交换机

二层设备

![image-20231002095342720](E:\610 - 编程开发\622-课程笔记\A01-计算机网络\自建节点\1-网络通信基本流程.assets\image-20231002095342720.png)

查看MAC地址和目的地址，看到端口后直接拿给路由器

路由器能干的

![image-20231002095445065](E:\610 - 编程开发\622-课程笔记\A01-计算机网络\自建节点\1-网络通信基本流程.assets\image-20231002095445065.png)

把这个数据路由出去

转发给公网上的其他路由器上

WAN口，内网的数据转发出去，NAT操作，网络地址转换，转成允许公网传输的信息形式，比如说原来是192.168.1.10：404转换成20.20.20.20 ，也会记住这个映射端口，数据链路层再加上转换的公网，MAC地址，等等再通过物理层转发出去



服务器

五层设备，可以把每一层的数据进行解析

一层一层把 上述的数据给解析出来，就是这样干的

最后DNS服务器发送响应给baidu后再原地返回信息给请求端口



总结起来就是我发的数据经过一系列的封装，最后再一层一层的拨下来的过程

通过DNS解析得到ip地址后就可以构造请求的数据包给百度服务器，这个过程和请求DNS解析的过程是差不多的

